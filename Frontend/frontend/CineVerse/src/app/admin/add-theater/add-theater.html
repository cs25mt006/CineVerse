<app-admin-nav-bar></app-admin-nav-bar>

<div class="add-theater-container">
  <h1 class="page-title">ADD THEATER</h1>

  <form [formGroup]="theaterForm" (ngSubmit)="submit()" class="theater-form">

    <div class="form-group">
      <label>Theater Name</label>
      <input type="text" formControlName="name" placeholder="Enter theater name" />
    </div>

    <div class="form-group">
      <label>Address</label>
      <textarea formControlName="address" placeholder="Enter address"></textarea>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label>Location</label>
        <select formControlName="location">
          <option value="">Select Location</option>
          <option *ngFor="let loc of locations" [value]="loc.id">{{ loc.name }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Total Screens</label>
        <input type="number" formControlName="totalscreens" placeholder="Number of screens" />
      </div>
    </div>

    <!-- Dynamic Screens Section -->
    <div *ngIf="screensArray.length > 0" class="screens-section">
      <h3 class="section-title">Screen Details</h3>

      <div *ngFor="let screen of screensArray.controls; let i = index" [formGroup]="screen" class="screen-box">
        <h4>Screen {{ i + 1 }}</h4>

        <div class="form-row">
          <div class="form-group">
            <label>Screen Name</label>
            <input type="text" formControlName="screenname" />
          </div>

          <div class="form-group">
            <label>Rows</label>
            <input type="number" formControlName="rows" min="1" />
          </div>

          <div class="form-group">
            <label>Columns</label>
            <input type="number" formControlName="colomns" min="1" />
          </div>
        </div>
      </div>
    </div>

    <button type="submit" [disabled]="isSubmitting" class="submit-btn">
      {{ isSubmitting ? 'Saving...' : 'Add Theater' }}
    </button>

  </form>
</div>

<app-footer></app-footer>